# https://taskfile.dev

version: "3"

tasks:
  list-tables:
    cmds:
      - docker compose exec aws awslocal dynamodb list-tables

  setup:
    cmds:
      - docker compose exec aws npx cdklocal bootstrap

  deploy:
    cmds:
      - docker compose exec aws sh ./deploy.sh

  watch:
    cmds:
      - docker compose exec aws npm run watch

  delete-lambda:
    cmds:
      - docker compose exec aws awslocal cloudformation delete-stack --stack-name LambdaStack

  apiid:
    cmds:
      - docker compose exec aws awslocal apigateway get-rest-apis --query "items[*].id"

  openapi:
    cmds:
      - sh ./openapi.sh
